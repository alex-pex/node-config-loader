{"version":3,"sources":["../src/__tests__/commonTest.js"],"names":[],"mappings":";;;;;;;;;;;;;;AAGA,QAAQ,CAAC,cAAc,EAAE,YAAM;AAC3B,MAAE,CAAC,sCAAsC,EAAE,YAAM;AAC7C,YAAM,UAAU,GAAG;AACf,mBAAO,EAAE;AACL,oBAAI,EAAE,kBAAkB;AACxB,oBAAI,EAAE,WAAW;AACjB,oBAAI,EAAE;AACF,sBAAE,EAAE,GAAG;AACP,sBAAE,EAAE,GAAG;iBACV;AACD,qBAAK,EAAE;AACH,sBAAE,EAAE,GAAG;iBACV;aACJ;AACD,gBAAI,EAAE;AACF,mBAAG,EAAE,CACD,OAAO,EACP,OAAO,CACV;AACD,oBAAI,EAAE,WAAW;aACpB;AACD,mBAAO,EAAE;AACL,oBAAI,EAAE,UAAU;AAChB,oBAAI,EAAE,MAAM;aACf;SACJ,CAAA;;AAED,eAAO,gBAAW;AACd,gBAAI,EAAE,CAAC,SAAS,GAAG,+CAA+C,CAAC;AACnE,oBAAQ,EAAE,QAAQ;AAClB,eAAG,EAAE,KAAK;AACV,oBAAQ,EAAE,UAAU;AACpB,wBAAY,EAAE,GAAG;SACpB,CAAC,CACG,IAAI,CAAC,UAAA,YAAY,EAAI;;;;AAClB,kCAAO,SAAS,uBAAC,YAAY;;;;wCAAE,UAAU;;;;eAAC,CAAA;SAC7C,CAAC,CAAA;KACT,CAAC,CAAA;;AAEF,MAAE,CAAC,sCAAsC,EAAE,YAAM;AAC7C,YAAM,UAAU,GAAG;AACf,mBAAO,EAAE;AACL,oBAAI,EAAE,kBAAkB;AACxB,oBAAI,EAAE,WAAW;AACjB,oBAAI,EAAE;AACF,sBAAE,EAAE,GAAG;AACP,sBAAE,EAAE,GAAG;iBACV;aACJ;AACD,eAAG,EAAE;AACD,2BAAW,EAAE,gCAAgC;aAChD;SACJ,CAAA;;AAED,eAAO,gBAAW;AACd,gBAAI,EAAE,CAAC,SAAS,GAAG,uCAAuC,CAAC;AAC3D,oBAAQ,EAAE,QAAQ;AAClB,eAAG,EAAE,KAAK;AACV,oBAAQ,EAAE,UAAU;AACpB,wBAAY,EAAE,GAAG;SACpB,CAAC,CACG,IAAI,CAAC,UAAA,YAAY,EAAI;;;;AAClB,kCAAO,SAAS,yBAAC,YAAY;;;;wCAAE,UAAU;;;;eAAC,CAAA;SAC7C,CAAC,CAAA;KACT,CAAC,CAAA;CACL,CAAC,CAAA","file":"commonTest.js","sourcesContent":["import loadConfig from '../'\nimport assert from 'power-assert'\n\ndescribe('commonMerger', () => {\n    it('should merge server dev environments', () => {\n        const testConfig = {\n            example: {\n                proc: 'example-dev-yaml',\n                name: 'test-yaml',\n                test: {\n                    p2: 444,\n                    p3: 534\n                },\n                test2: {\n                    p2: 123\n                }\n            },\n            app1: {\n                arr: [\n                    'test1',\n                    'test2'\n                ],\n                proc: 'test-test'\n            },\n            console: {\n                proc: 'test-dev',\n                name: 'test'\n            }\n        }\n\n        return loadConfig({\n            mask: [__dirname + '/{config,cfg/a}/**/*.{toml,tml,yaml,yml,json}'],\n            instance: 'server',\n            env: 'dev',\n            hostname: 'testhost',\n            tagSeparator: '#'\n        })\n            .then(loadedConfig => {\n                assert.deepEqual(loadedConfig, testConfig)\n            })\n    })\n\n    it('should merge client dev environments', () => {\n        const testConfig = {\n            example: {\n                proc: 'example-dev-yaml',\n                name: 'test-yaml',\n                test: {\n                    p2: 444,\n                    p3: 534\n                }\n            },\n            the: {\n                test_string: 'You\\'ll hate me after this - #'\n            }\n        }\n\n        return loadConfig({\n            mask: [__dirname + '/config/**/*.{toml,tml,yaml,yml,json}'],\n            instance: 'client',\n            env: 'dev',\n            hostname: 'testhost',\n            tagSeparator: '#'\n        })\n            .then(loadedConfig => {\n                assert.deepEqual(loadedConfig, testConfig)\n            })\n    })\n})\n"]}